openapi: 3.0.0
info:
  title: Productivia FSM API
  version: 1.0.0
  description: >-
    This is the OpenAPI specification of the Productivia FSM Service. It can be used to create, update and query FSMs.
servers:
  - url: 'https://productivia-api.xyz/api/tools'
paths:
  '/fsms/workbook/{workbookId}/byFsmId/{fsmId}':
    get:
      summary: Get an FSM by id
      operationId: getFsmById
      parameters:
        - in: path
          name: workbookId
          required: true
          description: Workbook Id
          schema:
            type: string
        - in: path
          name: fsmId
          required: true
          description: FSM Id
          schema:
            type: string
      responses:
        '200':
          description: An FSM.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FSM'
  /fsms/set:
    post:
      summary: Create a new FSM
      operationId: createFsm
      requestBody:
        description: FSM to add
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewFSM'
      responses:
        '201':
          description: FSM created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FSM'
  '/fsm-states/fsm/{fsmId}/byFsmStateId/{fsmStateId}':
    get:
      summary: Get an FSM by id
      operationId: getFsmStateById
      parameters:
        - in: path
          name: fsmId
          required: true
          description: FSM Id
          schema:
            type: string
        - in: path
          name: fsmStateId
          required: true
          description: FSM State Id
          schema:
            type: string
      responses:
        '200':
          description: An FSM state.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FSM-State'
  /fsm-states/set:
    post:
      summary: Create a new FSM State
      operationId: createFsmState
      requestBody:
        description: FSM State to add
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewFSM-State'
      responses:
        '201':
          description: FSM State created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FSM-State'
  '/fsm-transitions/fsm/{fsmId}/byFsmTransitionId/{fsmTransitionId}':
    get:
      summary: Get an FSM by id
      operationId: getFsmTransitionById
      parameters:
        - in: path
          name: fsmId
          required: true
          description: FSM Id
          schema:
            type: string
        - in: path
          name: fsmTransitionId
          required: true
          description: FSM Transition Id
          schema:
            type: string
      responses:
        '200':
          description: An FSM transition.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FSM-Transition'
  /fsm-transitions/set:
    post:
      summary: Create a new FSM Transition
      operationId: createFsmTransition
      requestBody:
        description: FSM Transition to add
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NewFSM-Transition'
      responses:
        '201':
          description: FSM Transition created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FSM-Transition'
components:
  schemas:
    NewFSM:
      type: object
      required:
        - name
      properties:
        name:
          type: string
    FSM:
      type: object
      required:
        - id
        - fsmId
        - name
      properties:
        id:
          type: string
        fsmId:
          type: string
        name:
          type: string
        description:
          type: string
    NewFSM-State:
      type: object
      required:
        - fsmId
        - name
      properties:
        fsmId:
          type: string
        name:
          type: string
        description:
          type: string
    FSM-State:
      type: object
      required:
        - id
        - fsmId
        - name
      properties:
        id:
          type: string
        fsmId:
          type: string
        fromFsmStateId:
          type: string
        toFsmStateId:
          type: string
        name:
          type: string
        description:
          type: string
    NewFSM-Transition:
      type: object
      required:
        - fsmId
        - fromFsmStateId
        - toFsmStateId
        - name
      properties:
        fsmId:
          type: string
        fromFsmStateId:
          type: string
        toFsmStateId:
          type: string
        name:
          type: string
        description:
          type: string
    FSM-Transition:
      type: object
      required:
        - id
        - fsmId
        - fromFsmStateId
        - toFsmStateId
        - name
      properties:
        id:
          type: string
        fsmId:
          type: string
        fromFsmStateId:
          type: string
        toFsmStateId:
          type: string
        name:
          type: string
        description:
          type: string
